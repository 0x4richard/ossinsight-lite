[
  {
    "name": "internal:Navigator",
    "rect": [
      -11,
      -7,
      3,
      2
    ]
  },
  {
    "name": "internal:Title",
    "rect": [
      -15,
      -7,
      4,
      2
    ]
  },
  {
    "name": "oh-my-github/personal-overview",
    "rect": [
      -15,
      -5,
      16,
      6
    ]
  },
  {
    "name": "ossinsight/total-events",
    "rect": [
      -4,
      -7,
      4,
      2
    ]
  },
  {
    "id": "followers-count",
    "name": "db/sql",
    "rect": [
      -8,
      -7,
      4,
      2
    ],
    "props": {
      "currentDb": "oh-my-github",
      "sql": "SELECT followers_count FROM curr_user;",
      "visualize": {
        "type": "gauge",
        "title": "Followers Count"
      },
      "mode": "visualization"
    }
  },
  {
    "id": "tidb-star-history",
    "name": "db/sql",
    "rect": [
      -15,
      2,
      8,
      5
    ],
    "props": {
      "currentDb": "repo-track",
      "sql": "SELECT DATE_FORMAT(sr.starred_at, '%Y-%m')                                                 AS v_month,\n       COUNT(*)                                                                            AS v_stars,\n       (SELECT COUNT(*)\n        FROM starred_repos csr\n                 LEFT JOIN repos r ON r.id = csr.repo_id\n        WHERE DATE_FORMAT(sr.starred_at, '%Y-%m') >= DATE_FORMAT(csr.starred_at, '%Y-%m')) AS v_total\nFROM starred_repos sr\n         LEFT JOIN repos r ON r.id = sr.repo_id\nWHERE r.name = 'tidb'\n  AND r.owner = 'pingcap'\nGROUP BY 1\nORDER BY 1",
      "visualize": {
        "type": "chart:line",
        "x": {
          "type": "month",
          "field": "v_month",
          "label": "Month"
        },
        "y": {
          "type": "value",
          "field": "v_stars",
          "label": "Stars"
        },
        "title": "Star history of pingcap/tidb"
      },
      "mode": "visualization"
    }
  },
  {
    "id": "recent-focused-on",
    "name": "db/sql",
    "rect": [
      -7,
      2,
      8,
      5
    ],
    "props": {
      "currentDb": "oh-my-github",
      "sql": "WITH common AS (SELECT DATE_ADD(NOW(), INTERVAL -3 MONTH) AS recent_days),\n     activities AS (SELECT repo_id, user_id, id AS _id, 'issue' AS type\n                    FROM issues\n                    WHERE created_at > (SELECT recent_days FROM common)\n                    UNION\n                    SELECT repo_id, user_id, id AS _id, 'pr' AS type\n                    FROM pull_requests\n                    WHERE created_at > (SELECT recent_days FROM common)\n                    UNION\n                    SELECT repo_id, user_id, starred_repos.repo_id AS _id, 'star' AS type\n                    FROM starred_repos\n                    WHERE starred_at > (SELECT recent_days FROM common)\n                    UNION\n                    SELECT repo_id, user_id, id AS _id, 'issue_comment' AS type\n                    FROM issue_comments\n                    WHERE created_at > (SELECT recent_days FROM common))\nSELECT IFNULL(CONCAT(r.owner, '/', r.name), '(unknown)') AS repo,\n       COUNT(*)                                          AS activities\nFROM activities a\n         LEFT JOIN repos r ON a.repo_id = r.id\nWHERE a.user_id = (SELECT id FROM curr_user)\nGROUP BY 1 ORDER BY 2 DESC",
      "visualize": {
        "type": "chart:bar",
        "x": {
          "type": "value",
          "field": "activities",
          "label": "Activities"
        },
        "y": {
          "type": "category",
          "field": "repo",
          "label": "Repo"
        },
        "title": "Recently focused on"
      },
      "mode": "visualization"
    }
  },
  {
    "id": "free-editor",
    "name": "db/sql",
    "rect": [
      1,
      -7,
      13,
      14
    ],
    "props": {
      "currentDb": "oh-my-github",
      "sql": "SELECT * FROM followers f LEFT JOIN users u ON f.user_id = u.id;",
      "visualize": {
        "type": "table",
        "title": "Followers"
      },
      "mode": "editor"
    }
  }
]